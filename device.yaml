config:
  register_address_type: u8
  default_byte_order: LE
  defmt_feature: defmt-03
MAIN_CTRL:
  type: register
  address: 0x00
  size_bits: 8
  reset_value: 0x00
  description: "Operation mode control, SW reset"
  fields:
    SAI_LS:
      start: 5
      base: bool
      description: "Sleep after Interrupt for LS: When set, light sensor returns to standby after interrupt"
    SW_RESET:
      start: 4
      base: bool
      description: "Software reset: triggers immediate reset when set to 1"
    RGB_MODE:
      start: 2
      base: bool
      description: "0: ALS and IR channels activated, 1: All Light Sensor (RGB and IR) channels activated"
    LS_EN:
      start: 1
      base: bool
      description: "0: Ambient light sensor standby, 1: Light Sensor active"
LS_MEAS_RATE:
  type: register
  address: 0x04
  size_bits: 8
  reset_value: 0x22
  description: "LS measurement rate and resolution"
  fields:
    LS_RESOLUTION:
      start: 4
      end: 7
      base: uint
      description: "ADC resolution and integration time"
      conversion:
        name: LsResolution
        Bits20_400ms:
          value: 0
          description: "20-bit resolution, 400ms integration time"
        Bits19_200ms:
          value: 1
          description: "19-bit resolution, 200ms integration time"
        Bits18_100ms:
          value: 2
          description: "18-bit resolution, 100ms integration time (default)"
        Bits17_50ms:
          value: 3
          description: "17-bit resolution, 50ms integration time"
        Bits16_25ms:
          value: 4
          description: "16-bit resolution, 25ms integration time"
        Bits13_3_125ms:
          value: 5
          description: "13-bit resolution, 3.125ms integration time"
        Reserved6:
          value: 6
          description: "Reserved"
        Reserved7:
          value: 7
          description: "Reserved"
    LS_MEASUREMENT_RATE:
      start: 0
      end: 3
      base: uint
      description: "Measurement repeat rate"
      conversion:
        name: LsMeasurementRate
        Ms25:
          value: 0
          description: "25ms measurement rate"
        Ms50:
          value: 1
          description: "50ms measurement rate"
        Ms100:
          value: 2
          description: "100ms measurement rate (default)"
        Ms200:
          value: 3
          description: "200ms measurement rate"
        Ms500:
          value: 4
          description: "500ms measurement rate"
        Ms1000:
          value: 5
          description: "1000ms measurement rate"
        Ms2000_6:
          value: 6
          description: "2000ms measurement rate"
        Ms2000_7:
          value: 7
          description: "2000ms measurement rate"
LS_GAIN:
  type: register
  address: 0x05
  size_bits: 8
  reset_value: 0x01
  description: "LS analog gain range"
  fields:
    LS_GAIN_RANGE:
      start: 0
      end: 3
      base: uint
      description: "Analog gain setting"
      conversion:
        name: LsGainRange
        Gain1x:
          value: 0
          description: "1x gain"
        Gain3x:
          value: 1
          description: "3x gain (default)"
        Gain6x:
          value: 2
          description: "6x gain"
        Gain9x:
          value: 3
          description: "9x gain"
        Gain18x:
          value: 4
          description: "18x gain"
        Reserved5:
          value: 5
          description: "Reserved"
        Reserved6:
          value: 6
          description: "Reserved"
        Reserved7:
          value: 7
          description: "Reserved"
PART_ID:
  type: register
  address: 0x06
  size_bits: 8
  reset_value: 0xC2
  description: "Part number ID and revision ID"
  fields:
    PART_ID:
      start: 4
      end: 8
      base: uint
      description: "Part number ID"
    REVISION_ID:
      start: 0
      end: 4
      base: uint
      description: "Revision ID of the component"
MAIN_STATUS:
  type: register
  address: 0x07
  size_bits: 8
  reset_value: 0x20
  description: "Power-on status, interrupt status, data status"
  fields:
    POWER_ON_STATUS:
      start: 5
      base: bool
      description: "1: Part went through power-up event (cleared after read)"
    LS_INTERRUPT_STATUS:
      start: 4
      base: bool
      description: "1: Interrupt condition fulfilled (cleared after read)"
    LS_DATA_STATUS:
      start: 3
      base: bool
      description: "1: New data available, not yet read (cleared after read)"
LS_DATA_IR:
  type: register
  address: 0x0A
  size_bits: 24
  byte_order: LE
  reset_value: 0x000000
  description: "IR ADC measurement data (20-bit, LSB aligned)"
  fields:
    ir_counts:
      base: uint
      start: 0
      end: 20
      description: "IR channel ADC measurement counts (13 to 20 bit resolution)"
LS_DATA_GREEN:
  type: register
  address: 0x0D
  size_bits: 24
  byte_order: LE
  reset_value: 0x000000
  description: "ALS/Green ADC measurement data (20-bit, LSB aligned)"
  fields:
    green_counts:
      base: uint
      start: 0
      end: 20
      description: "ALS/Green channel ADC measurement counts (13 to 20 bit resolution)"
LS_DATA_BLUE:
  type: register
  address: 0x10
  size_bits: 24
  byte_order: LE
  reset_value: 0x000000
  description: "Blue ADC measurement data (20-bit, LSB aligned)"
  fields:
    blue_counts:
      base: uint
      start: 0
      end: 20
      description: "Blue channel ADC measurement counts (13 to 20 bit resolution)"
LS_DATA_RED:
  type: register
  address: 0x13
  size_bits: 24
  byte_order: LE
  reset_value: 0x000000
  description: "Red ADC measurement data (20-bit, LSB aligned)"
  fields:
    red_counts:
      base: uint
      start: 0
      end: 20
      description: "Red channel ADC measurement counts (13 to 20 bit resolution)"
INT_CFG:
  type: register
  address: 0x19
  size_bits: 8
  reset_value: 0x10
  description: "Interrupt configuration"
  fields:
    LS_INT_SEL:
      start: 4
      end: 6
      base: uint
      description: "Light sensor interrupt source channel selection"
      conversion:
        name: LsIntSel
        IR:
          value: 0
          description: "IR channel"
        Green:
          value: 1
          description: "ALS channel/Green channel (default)"
        Red:
          value: 2
          description: "Red channel"
        Blue:
          value: 3
          description: "Blue channel"
    LS_VAR_MODE:
      start: 3
      base: bool
      description: "0: LS threshold interrupt mode, 1: LS variation interrupt mode"
    LS_INT_EN:
      start: 2
      base: bool
      description: "0: LS Interrupt disabled, 1: LS Interrupt enabled"
INT_PST:
  type: register
  address: 0x1A
  size_bits: 8
  reset_value: 0x00
  description: "Interrupt persistence"
  fields:
    LS_PERSIST:
      start: 4
      end: 7
      base: uint
      description: "Number of consecutive LS interrupt events before interrupt is asserted"
      conversion:
        name: LsPersist
        Every:
          value: 0
          description: "Every LS value out of threshold range (default) asserts an interrupt"
        Consecutive2:
          value: 1
          description: "2 consecutive LS values out of threshold range assert an interrupt"
        Consecutive3:
          value: 2
          description: "3 consecutive LS values out of threshold range assert an interrupt"
        Consecutive4:
          value: 3
          description: "4 consecutive LS values out of threshold range assert an interrupt"
        Consecutive5:
          value: 4
          description: "5 consecutive LS values out of threshold range assert an interrupt"
        Consecutive6:
          value: 5
          description: "6 consecutive LS values out of threshold range assert an interrupt"
        Consecutive7:
          value: 6
          description: "7 consecutive LS values out of threshold range assert an interrupt"
        Consecutive8:
          value: 7
          description: "8 consecutive LS values out of threshold range assert an interrupt"
LS_THRES_UP:
  type: register
  address: 0x21
  size_bits: 24
  byte_order: LE
  reset_value: 0x0FFFFF
  description: "LS upper interrupt threshold value (20-bit, LSB aligned)"
  fields:
    upper_threshold:
      base: uint
      start: 0
      end: 20
      description: "Upper interrupt threshold value for LS channels"
LS_THRES_LOW:
  type: register
  address: 0x24
  size_bits: 24
  byte_order: LE
  reset_value: 0x000000
  description: "LS lower interrupt threshold value (20-bit, LSB aligned)"
  fields:
    lower_threshold:
      base: uint
      start: 0
      end: 20
      description: "Lower interrupt threshold value for LS channels"
LS_THRES_VAR:
  type: register
  address: 0x27
  size_bits: 8
  reset_value: 0x00
  description: "LS variation interrupt threshold"
  fields:
    variance_threshold:
      start: 0
      end: 3
      base: uint
      description: "Variance threshold for variation interrupt mode"
      conversion:
        name: LsThresVar
        Counts8:
          value: 0
          description: "LS result varies by 8 counts compared to previous result (default)"
        Counts16:
          value: 1
          description: "LS result varies by 16 counts compared to previous result"
        Counts32:
          value: 2
          description: "LS result varies by 32 counts compared to previous result"
        Counts64:
          value: 3
          description: "LS result varies by 64 counts compared to previous result"
        Counts128:
          value: 4
          description: "LS result varies by 128 counts compared to previous result"
        Counts256:
          value: 5
          description: "LS result varies by 256 counts compared to previous result"
        Counts512:
          value: 6
          description: "LS result varies by 512 counts compared to previous result"
        Counts1024:
          value: 7
          description: "LS result varies by 1024 counts compared to previous result"
DARK_COUNT_STORAGE_GREEN:
  type: register
  address: 0x29
  size_bits: 8
  description: "Dark count storage for green/ALS channel (no defined reset value)"
  fields:
    valid:
      start: 3
      base: bool
      description: "0: Dark count is not valid, 1: Dark count is valid"
    count:
      start: 0
      end: 3
      base: uint
      description: "Dark count of green channel tested at 400ms and 18x gain"
